#include <stdio.h>

/*
 * Основная рекурсивная функция F(n).
 * Реализует заданный алгоритм:
 * F(n) = 1, при n < 2
 * F(n) = F(n / 3) + 1, когда n >= 2 и делится на 3
 * F(n) = F(n - 2) + 5, когда n >= 2 и не делится на 3
 */
int F(int n) {
    if (n < 2) {
        return 1;
    }
    if (n % 3 == 0) {
        // Деление целочисленное, как и требуется в C для int
        return F(n / 3) + 1;
    } else {
        return F(n - 2) + 5;
    }
}

/*
 * Вспомогательная рекурсивная функция для задания 2.
 * Считает количество нечётных цифр в числе number.
 */
int countOddDigits(int number) {
    // Базовый случай: если число 0, цифр больше нет
    if (number == 0) {
        return 0;
    }
    
    // Получаем последнюю цифру
    int digit = number % 10;
    
    // Проверяем, нечётная ли она
    int isOdd = (digit % 2 != 0) ? 1 : 0;
    
    // Рекурсивный вызов для оставшейся части числа (number / 10)
    // плюс 1, если текущая цифра нечётная, или 0, если чётная.
    return isOdd + countOddDigits(number / 10);
}

int main() {
    // --- ЗАДАНИЕ 1 ---
    // Найти количество n на отрезке [1; 100000], для которых F(n) равно 55.
    
    int counter = 0;
    for (int n = 1; n <= 100000; n++) {
        if (F(n) == 55) {
            counter++;
        }
    }
    
    printf("Задание 1: Количество n на отрезке [1; 100000], где F(n) = 55: %d\n", counter);

    // --- ЗАДАНИЕ 2 ---
    // Количество нечётных цифр результата вычисления F(x), где x задает пользователь.
    
    int x;
    printf("\nЗадание 2: Введите число x: ");
    if (scanf("%d", &x) == 1) {
        int resultF = F(x);
        printf("Значение F(%d) = %d\n", x, resultF);
        
        int oddDigitsCount = countOddDigits(resultF);
        printf("Количество нечётных цифр в результате: %d\n", oddDigitsCount);
    } else {
        printf("Ошибка ввода числа.\n");
    }

    return 0;
}
